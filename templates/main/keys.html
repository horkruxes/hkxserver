{{define "keys"}}
<div class="panel keys print:hidden" id="post-form">
  {{ if .PageInfo.PostToMessageID }}
  <h3>Comment</h3>
  {{ else }}
  <h3>Post a message</h3>
  {{ end }}
  <form method="POST" action="/new">
      <label>Name</label>
      <input
        type="text"
        name="name"
        placeholder="Displayed name, can be anything"
      />

      <label>Message</label>
      <textarea
        id="message"
        rows="9"
        name="message"
        placeholder="Write anything without being censored!"
      >
{{ .Content }}</textarea
      >
      <p id="countChars"></p>
      <label>Public Key</label>
      <input
        type="text"
        id="public-key"
        name="public-key"
        value="{{ .Pub }}"
        placeholder="Your public key is unique and define your identity"
        pattern="^.{44}$"
      /> <br>
      <!-- <small id="publicKeyHelpBlock" class="form-text text-muted">
        The public key is the shortest one
      </small> <br> -->
      <input
        type="checkbox"
        name="use-secret-key"
        id="use-secret-key" /> 
      <label for="use-secret-key">Use secret key instead (dangerous)</label> <br>
      <div id="signature">
        <label>Signature</label>
        <input
        type="text"
        name="signature"
        placeholder="The signature is different for every message"
        pattern="^.{88}$"
        /><br />
        <small id="passwordHelpBlock" class="form-text text-muted">
          <a href="/faq">How do I get one ?</a>
        </small> <br>
      </div>
      <div id="secret-key">
        <label>Secret Key</label>
        <input
          type="text"
          name="secret-key"
          value=""
          placeholder="Private key"
          pattern="^.{88}$"
        /> <br>

      </div>

      <input
        type="checkbox"
        name="use-different-server"
        id="use-different-server" /> 
      <label for="use-different-server">Send to specific server</label>
      <input
        type="text"
        name="pod-to-post-to"
        id="pod-to-post-to"
        pattern="^[a-ZA-Z0-9\.]$"
        placeholder="Empty to send to {{ .Server.URL }}"
      /> <br>

    <input
      type="text"
      name="answer-to"
      id="answer-to"
      value="{{ .PageInfo.PostToMessageID }}"
    />

    <input type="submit" value="Send message" />
  </form>

  <h3>My keys</h3>
  <ul>
    <li><a href="/keys">Verify a signature</a></li>
    <li><a href="/keys#danger-zone">Generate a key pair</a></li>
    <li><a href="/keys#danger-zone">Get the signature for a message </a></li>
  </ul>

  <h3>FAQ</h3>
  <ul>
    <li><a href="/faq">What is the goal of this website</a></li>
    <li><a href="/faq">How do I post a message?</a></li>
    <li><a href="/faq">What is a pod?</a></li>
    <li>
      <a href="/faq"
        >This site is absolutely not practical. Why did you make these
        choices?</a
      >
    </li>
    <li><a href="/faq">What does "wrong signature" means?</a></li>
    <li><a href="/faq">What can happen if someone hack the website?</a></li>
    <li><a href="/faq">I lost my secret key</a></li>
  </ul>

  <h3>Options</h3>
  <label for="signatures-switch" class="signatures-switch">
    Show/Hide signatures
  </label>
</div>
{{end}}
